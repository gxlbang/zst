@{
    ViewBag.Title = "余额明细";
    Layout = "~/Views/Shared/_Partial.cshtml";
}

<ul class="flow-default" id="LAY_demo1"></ul>

<link href="~/Content/Scripts/layui/css/layui.css" rel="stylesheet" />
<script src="~/Content/Scripts/layui/layui.js"></script>
<script>
layui.use('flow', function(){
  var flow = layui.flow;
  flow.load({
    elem: '#LAY_demo1' //流加载容器
    ,scrollElem: '' 
    ,done: function(page, next){ //执行下一页的回调
      //模拟数据插入
        setTimeout(function () {
            $.post("/Personal/MyBalanceDetail", { pageIndex: page }, function (data) {
                var lis = [];
                for (var i = 0; i < 8; i++) {
                    lis.push('<li>' + ((page - 1) * 8 + i + 1) + '</li>')
                }
                next(lis.join(''), page < @ViewBag.recordCount);
            });
       
      }, 500);
    }
  });

});
</script>